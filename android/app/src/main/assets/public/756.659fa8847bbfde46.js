"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[756],{756:(b,d,t)=>{t.r(d),t.d(d,{VideoRecorderWeb:()=>f});var u=t(467),c=t(7464);class w{constructor(e={}){this.opacity=e.opacity||0,this.radius=e.radius||0,this.color=function i(r){r=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,v,m,h){return v+v+m+m+h+h});const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return a?`${parseInt(a[1],16)}, ${parseInt(a[2],16)}, ${parseInt(a[3],16)}`:null}(e.color||"#000000")||"#000000"}}class s{constructor(e={}){this.id=e.id,this.stackPosition=e.stackPosition||"back",this.x=e.x||0,this.y=e.y||0,this.width=e.width||"fill",this.height=e.height||"fill",this.borderRadius=e.borderRadius||0,this.dropShadow=new w(e.dropShadow)}}class f extends c.E_{constructor(){super(),this.previewFrameConfigs=[],this.currentFrameConfig=new s({id:"default"})}_initializeCameraView(){this.videoElement=document.createElement("video"),this.videoElement.autoplay=!0,this.videoElement.hidden=!0,this.videoElement.style.cssText="\n\t\t\tobject-fit: cover;\n\t\t\tpointer-events: none;\n\t\t\tposition: absolute;\n\t\t",document.body.appendChild(this.videoElement),this._updateCameraView(this.currentFrameConfig)}_updateCameraView(e){var i,r,o;this.videoElement.style.width="fill"===e.width?"100vw":`${e.width}px`,this.videoElement.style.height="fill"===e.height?"100vh":`${e.height}px`,this.videoElement.style.left=`${e.x}px`,this.videoElement.style.top=`${e.y}px`,this.videoElement.style.zIndex="back"===e.stackPosition?"-1":"99999",this.videoElement.style.borderRadius=`${e.borderRadius}px`,this.videoElement.style.boxShadow=`0 0 ${null===(i=e.dropShadow)||void 0===i?void 0:i.radius}px 0 rgba(${null===(r=e.dropShadow)||void 0===r?void 0:r.color}, ${null===(o=e.dropShadow)||void 0===o?void 0:o.opacity})`}initialize(e){var i=this;return(0,u.A)(function*(){var r,o;console.warn("VideoRecorder: Web implementation is currently for mock purposes only, recording is not available");const a=void 0!==(null===(r=null==e?void 0:e.previewFrames)||void 0===r?void 0:r.length)&&(null===(o=null==e?void 0:e.previewFrames)||void 0===o?void 0:o.length)>0?null==e?void 0:e.previewFrames:[{id:"default"}];return i.previewFrameConfigs=null==a?void 0:a.map(n=>new s(n)),i.currentFrameConfig=i.previewFrameConfigs[0],i._initializeCameraView(),!1!==(null==e?void 0:e.autoShow)&&(i.videoElement.hidden=!1),navigator.mediaDevices.getUserMedia&&(i.stream=yield navigator.mediaDevices.getUserMedia({video:!0}),i.videoElement.srcObject=i.stream),Promise.resolve()})()}destroy(){var e,i;return null===(e=this.videoElement)||void 0===e||e.remove(),this.previewFrameConfigs=[],null===(i=this.stream)||void 0===i||i.getTracks().forEach(r=>r.stop()),Promise.resolve()}flipCamera(){return console.warn("VideoRecorder: No web mock available for flipCamera"),Promise.resolve()}addPreviewFrameConfig(e){if(this.videoElement){if(!e.id)return Promise.reject("id required");const i=new s(e);-1===this.previewFrameConfigs.map(r=>r.id).indexOf(i.id)?this.previewFrameConfigs.push(i):this.editPreviewFrameConfig(e)}return Promise.resolve()}editPreviewFrameConfig(e){if(this.videoElement){if(!e.id)return Promise.reject("id required");const i=new s(e),r=this.previewFrameConfigs.map(o=>o.id).indexOf(i.id);-1!==r?this.previewFrameConfigs[r]=i:this.addPreviewFrameConfig(e),this.currentFrameConfig.id==e.id&&(this.currentFrameConfig=i,this._updateCameraView(this.currentFrameConfig))}return Promise.resolve()}switchToPreviewFrame(e){if(this.videoElement){if(!e.id)return Promise.reject("id required");const i=this.previewFrameConfigs.filter(r=>r.id===e.id);if(!(i.length>0))return Promise.reject("id not found");this._updateCameraView(i[0])}return Promise.resolve()}showPreviewFrame(){return this.videoElement&&(this.videoElement.hidden=!1),Promise.resolve()}hidePreviewFrame(){return this.videoElement&&(this.videoElement.hidden=!0),Promise.resolve()}startRecording(){return console.warn("VideoRecorder: No web mock available for startRecording"),Promise.resolve()}stopRecording(){return console.warn("VideoRecorder: No web mock available for stopRecording"),Promise.resolve({videoUrl:"some/file/path"})}getDuration(){return Promise.resolve({value:0})}addListener(){console.warn("VideoRecorder: No web mock available for addListener")}toggleFlash(){return console.warn("VideoRecorder: No web mock available for toggleFlash"),Promise.resolve()}enableFlash(){return console.warn("VideoRecorder: No web mock available for enableFlash"),Promise.resolve()}disableFlash(){return console.warn("VideoRecorder: No web mock available for disableFlash"),Promise.resolve()}isFlashEnabled(){return console.warn("VideoRecorder: No web mock available for isFlashEnabled"),Promise.resolve({isEnabled:!1})}isFlashAvailable(){return console.warn("VideoRecorder: No web mock available for isFlashAvailable"),Promise.resolve({isAvailable:!1})}}}}]);