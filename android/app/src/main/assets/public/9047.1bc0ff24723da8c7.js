(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9047],{1889:(N,y,a)=>{"use strict";a.d(y,{Wi:()=>l});var l=function(u){return u.UTF8="utf8",u.ASCII="ascii",u.UTF16="utf16",u}(l||{})},4976:N=>{N.exports=function y(a){return a&&a.__esModule?a:{default:a}}},5198:N=>{var y=function(a){"use strict";var m,E=Object.prototype,l=E.hasOwnProperty,b=Object.defineProperty||function(r,e,t){r[e]=t.value},u="function"==typeof Symbol?Symbol:{},S=u.iterator||"@@iterator",A=u.asyncIterator||"@@asyncIterator",w=u.toStringTag||"@@toStringTag";function c(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{c({},"")}catch{c=function(e,t,o){return e[t]=o}}function D(r,e,t,o){var s=Object.create((e&&e.prototype instanceof W?e:W).prototype),f=new i(o||[]);return b(s,"_invoke",{value:$(r,t,f)}),s}function L(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}a.wrap=D;var k="suspendedStart",G="suspendedYield",P="executing",I="completed",O={};function W(){}function z(){}function _(){}var j={};c(j,S,function(){return this});var H=Object.getPrototypeOf,F=H&&H(H(d([])));F&&F!==E&&l.call(F,S)&&(j=F);var C=_.prototype=W.prototype=Object.create(j);function Y(r){["next","throw","return"].forEach(function(e){c(r,e,function(t){return this._invoke(e,t)})})}function U(r,e){function t(s,f,h,p){var R=L(r[s],r,f);if("throw"!==R.type){var V=R.arg,M=V.value;return M&&"object"==typeof M&&l.call(M,"__await")?e.resolve(M.__await).then(function(B){t("next",B,h,p)},function(B){t("throw",B,h,p)}):e.resolve(M).then(function(B){V.value=B,h(V)},function(B){return t("throw",B,h,p)})}p(R.arg)}var o;b(this,"_invoke",{value:function n(s,f){function h(){return new e(function(p,R){t(s,f,p,R)})}return o=o?o.then(h,h):h()}})}function $(r,e,t){var o=k;return function(s,f){if(o===P)throw new Error("Generator is already running");if(o===I){if("throw"===s)throw f;return v()}for(t.method=s,t.arg=f;;){var h=t.delegate;if(h){var p=T(h,t);if(p){if(p===O)continue;return p}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(o===k)throw o=I,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);o=P;var R=L(r,e,t);if("normal"===R.type){if(o=t.done?I:G,R.arg===O)continue;return{value:R.arg,done:t.done}}"throw"===R.type&&(o=I,t.method="throw",t.arg=R.arg)}}}function T(r,e){var t=e.method,o=r.iterator[t];if(o===m)return e.delegate=null,"throw"===t&&r.iterator.return&&(e.method="return",e.arg=m,T(r,e),"throw"===e.method)||"return"!==t&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),O;var n=L(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,O;var s=n.arg;return s?s.done?(e[r.resultName]=s.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,O):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function X(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function g(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function i(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(X,this),this.reset(!0)}function d(r){if(r){var e=r[S];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var t=-1,o=function n(){for(;++t<r.length;)if(l.call(r,t))return n.value=r[t],n.done=!1,n;return n.value=m,n.done=!0,n};return o.next=o}}return{next:v}}function v(){return{value:m,done:!0}}return z.prototype=_,b(C,"constructor",{value:_,configurable:!0}),b(_,"constructor",{value:z,configurable:!0}),z.displayName=c(_,w,"GeneratorFunction"),a.isGeneratorFunction=function(r){var e="function"==typeof r&&r.constructor;return!!e&&(e===z||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,_):(r.__proto__=_,c(r,w,"GeneratorFunction")),r.prototype=Object.create(C),r},a.awrap=function(r){return{__await:r}},Y(U.prototype),c(U.prototype,A,function(){return this}),a.AsyncIterator=U,a.async=function(r,e,t,o,n){void 0===n&&(n=Promise);var s=new U(D(r,e,t,o),n);return a.isGeneratorFunction(e)?s:s.next().then(function(f){return f.done?f.value:s.next()})},Y(C),c(C,w,"Generator"),c(C,S,function(){return this}),c(C,"toString",function(){return"[object Generator]"}),a.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function n(){for(;t.length;){var s=t.pop();if(s in e)return n.value=s,n.done=!1,n}return n.done=!0,n}},a.values=d,i.prototype={constructor:i,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(g),!r)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function t(p,R){return s.type="throw",s.arg=r,e.next=p,R&&(e.method="next",e.arg=m),!!R}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var f=l.call(n,"catchLoc"),h=l.call(n,"finallyLoc");if(f&&h){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(f){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(r,e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&l.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===r||"continue"===r)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=r,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,O):this.complete(s)},complete:function(r,e){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&e&&(this.next=e),O},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===r)return this.complete(t.completion,t.afterLoc),g(t),O}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===r){var o=t.completion;if("throw"===o.type){var n=o.arg;g(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,t){return this.delegate={iterator:d(r),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=m),O}},a}(N.exports);try{regeneratorRuntime=y}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}},5230:(N,y,a)=>{N.exports=a(5198)},6891:N=>{function y(E,l,b,m,u,S,A){try{var w=E[S](A),c=w.value}catch(D){return void b(D)}w.done?l(c):Promise.resolve(c).then(m,u)}N.exports=function a(E){return function(){var l=this,b=arguments;return new Promise(function(m,u){var S=E.apply(l,b);function A(c){y(S,m,u,A,w,"next",c)}function w(c){y(S,m,u,A,w,"throw",c)}A(void 0)})}}},9047:(N,y,a)=>{"use strict";a.r(y),a.d(y,{VoiceRecorderWeb:()=>X});var E=a(7464),l=a(467),b=a(8254);a(1889);const u=(0,E.F3)("Filesystem",{web:()=>a.e(2937).then(a.bind(a,2937)).then(g=>new g.FilesystemWeb)});(0,b.Y)();const S=(0,E.F3)("BlobWriter");function A(g){return window.btoa(Array.from(new Uint8Array(g)).map(function(i){return String.fromCharCode(i)}).join(""))}function c({path:g,directory:i,blob:d,recursive:v}){return u.writeFile({directory:i,path:g,recursive:v,data:""}).then(function r(){if(0===d.size)return Promise.resolve();const e=393216,t=d.slice(0,e);return d=d.slice(e),new Response(t).arrayBuffer().then(function(n){return u.appendFile({directory:i,path:g,data:A(n)})}).then(r)})}const L=Object.freeze(function D(g){const{path:i,directory:d,blob:v,fast_mode:r=!1,recursive:e,on_fallback:t}=g;return v&&Number.isSafeInteger(v.size)&&"string"==typeof v.type?"web"===E.Ii.getPlatform()?r?function w({path:g,directory:i,blob:d,recursive:v}){return u.writeFile({directory:i,path:g,recursive:v,data:""}).then(function(){return new Promise(function(r,e){function t(n){e(n.target.error)}const o=window.indexedDB.open("Disc");o.onerror=t,o.onsuccess=function(){const s=o.result.transaction("FileStorage","readwrite");s.onerror=t;const f=s.objectStore("FileStorage"),h=`/${i}/${g.replace(/^\//,"")}`,p=f.get(h);p.onsuccess=function(){p.result.size=d.size,p.result.content=d,f.put(p.result).onsuccess=function(){r(void 0)}}}})})}(g):c(g):Promise.all([S.get_config(),u.getUri({path:i,directory:d})]).then(function([o,n]){const s=n.uri.replace("file://","");return(window.CapacitorWebFetch||window.fetch)(o.base_url+s+(e?"?recursive=true":""),{headers:{authorization:o.auth_token},method:"put",body:v}).then(function(h){if(204!==h.status)throw new Error("Bad HTTP status: "+h.status);return n.uri})}).catch(function(n){return void 0!==t&&t(n),c(g)}):Promise.reject(new Error("Not a Blob."))});var k=a(9319),G=a(5051);const j=()=>new Error("FAILED_TO_RECORD"),F=()=>new Error("RECORDING_HAS_NOT_STARTED"),C=()=>new Error("FAILED_TO_FETCH_RECORDING"),Y=()=>new Error("COULD_NOT_QUERY_PERMISSION_STATUS"),U={"audio/aac":".aac","audio/webm;codecs=opus":".ogg","audio/mp4":".mp3","audio/webm":".ogg","audio/ogg;codecs=opus":".ogg"},$=()=>new Promise(()=>{});class T{constructor(){this.mediaRecorder=null,this.chunks=[],this.pendingResult=$()}static canDeviceVoiceRecord(){return(0,l.A)(function*(){var i;return null==(null===(i=null==navigator?void 0:navigator.mediaDevices)||void 0===i?void 0:i.getUserMedia)||null==T.getSupportedMimeType()?{value:!1}:{value:!0}})()}startRecording(i){var d=this;return(0,l.A)(function*(){if(null!=d.mediaRecorder)throw new Error("ALREADY_RECORDING");if(!(yield T.canDeviceVoiceRecord()).value)throw new Error("DEVICE_CANNOT_VOICE_RECORD");if(!(yield T.hasAudioRecordingPermission().catch(()=>({value:!0}))).value)throw new Error("MISSING_PERMISSION");return navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>d.onSuccessfullyStartedRecording(e,i)).catch(d.onFailedToStartRecording.bind(d))})()}stopRecording(){var i=this;return(0,l.A)(function*(){if(null==i.mediaRecorder)throw F();try{return i.mediaRecorder.stop(),i.mediaRecorder.stream.getTracks().forEach(d=>d.stop()),i.pendingResult}catch{throw C()}finally{i.prepareInstanceForNextOperation()}})()}static hasAudioRecordingPermission(){return(0,l.A)(function*(){return null==navigator.permissions.query?null==navigator.mediaDevices?Promise.reject(Y()):navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>({value:!0})).catch(()=>{throw Y()}):navigator.permissions.query({name:"microphone"}).then(i=>({value:"granted"===i.state})).catch(()=>{throw Y()})})()}static requestAudioRecordingPermission(){return(0,l.A)(function*(){return(yield T.hasAudioRecordingPermission().catch(()=>({value:!1}))).value?{value:!0}:navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>({value:!0})).catch(()=>({value:!1}))})()}pauseRecording(){if(null==this.mediaRecorder)throw F();return"recording"===this.mediaRecorder.state?(this.mediaRecorder.pause(),Promise.resolve({value:!0})):Promise.resolve({value:!1})}resumeRecording(){if(null==this.mediaRecorder)throw F();return"paused"===this.mediaRecorder.state?(this.mediaRecorder.resume(),Promise.resolve({value:!0})):Promise.resolve({value:!1})}getCurrentStatus(){return Promise.resolve(null==this.mediaRecorder?{status:G.k.NONE}:"recording"===this.mediaRecorder.state?{status:G.k.RECORDING}:"paused"===this.mediaRecorder.state?{status:G.k.PAUSED}:{status:G.k.NONE})}static getSupportedMimeType(){if(null==(null==MediaRecorder?void 0:MediaRecorder.isTypeSupported))return null;const i=Object.keys(U).find(d=>MediaRecorder.isTypeSupported(d));return null!=i?i:null}onSuccessfullyStartedRecording(i,d){var v=this;return this.pendingResult=new Promise((r,e)=>{this.mediaRecorder=new MediaRecorder(i),this.mediaRecorder.onerror=()=>{this.prepareInstanceForNextOperation(),e(j())},this.mediaRecorder.onstop=(0,l.A)(function*(){var t,o,n;const s=T.getSupportedMimeType();if(null==s)return v.prepareInstanceForNextOperation(),void e(C());const f=new Blob(v.chunks,{type:s});if(f.size<=0)return v.prepareInstanceForNextOperation(),void e(new Error("EMPTY_RECORDING"));let h,p;if(null!=d){const M=`${null!==(n=null===(o=null===(t=d.subDirectory)||void 0===t?void 0:t.match(/^\/?(.+[^/])\/?$/))||void 0===o?void 0:o[1])&&void 0!==n?n:""}/recording-${(new Date).getTime()}${U[s]}`;yield L({blob:f,directory:d.directory,fast_mode:!0,path:M,recursive:!0}),({uri:h}=yield u.getUri({directory:d.directory,path:M}))}else p=yield T.blobToBase64(f);const R=yield(0,k.A)(f);v.prepareInstanceForNextOperation(),r({value:{recordDataBase64:p,mimeType:s,msDuration:1e3*R,uri:h}})}),this.mediaRecorder.ondataavailable=t=>this.chunks.push(t.data),this.mediaRecorder.start()}),{value:!0}}onFailedToStartRecording(){throw this.prepareInstanceForNextOperation(),j()}static blobToBase64(i){return new Promise(d=>{const v=new FileReader;v.onloadend=()=>{const r=String(v.result),e=r.split("base64,");d((e.length>1?e[1]:r).trim())},v.readAsDataURL(i)})}prepareInstanceForNextOperation(){if(null!=this.mediaRecorder&&"recording"===this.mediaRecorder.state)try{this.mediaRecorder.stop()}catch(i){console.warn("While trying to stop a media recorder, an error was thrown",i)}this.pendingResult=$(),this.mediaRecorder=null,this.chunks=[]}}class X extends E.E_{constructor(){super(...arguments),this.voiceRecorderInstance=new T}canDeviceVoiceRecord(){return T.canDeviceVoiceRecord()}hasAudioRecordingPermission(){return T.hasAudioRecordingPermission()}requestAudioRecordingPermission(){return T.requestAudioRecordingPermission()}startRecording(i){return this.voiceRecorderInstance.startRecording(i)}stopRecording(){return this.voiceRecorderInstance.stopRecording()}pauseRecording(){return this.voiceRecorderInstance.pauseRecording()}resumeRecording(){return this.voiceRecorderInstance.resumeRecording()}getCurrentStatus(){return this.voiceRecorderInstance.getCurrentStatus()}}},9319:(N,y,a)=>{"use strict";var l=a(4976);y.A=function u(A){return S.apply(this,arguments)};var b=l(a(5230)),m=l(a(6891));function S(){return(S=(0,m.default)(b.default.mark(function A(w){var c,D;return b.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return c=document.createElement("video"),D=new Promise(function(k,G){c.addEventListener("loadedmetadata",function(){c.duration===1/0?(c.currentTime=Number.MAX_SAFE_INTEGER,c.ontimeupdate=function(){c.ontimeupdate=null,k(c.duration),c.currentTime=0}):k(c.duration)}),c.onerror=function(P){return G(P.target.error)}}),c.src="string"==typeof w||w instanceof String?w:window.URL.createObjectURL(w),L.abrupt("return",D);case 4:case"end":return L.stop()}},A)}))).apply(this,arguments)}}}]);